(NOTE: This is a super detailed list of development TODOs.)
(NOTE: High level todos also listed in github projects page.)  



===BUGS===
- Is WX/weather keywords broken?  getting nulls on MOSFIRE test.
- Do we need NIRES ls -d commands in cron?


===MISC===
- add to nires spreadsheet?  Should we add these or ignore?: DISPNAME2, SCRIPTNAME, SCRIPTDIR, WIDTH, HEIGHT, XPOS, YPOS, ROIMAXDIM
- How do we keep track of sdata dirs.?  A: These are added by Jchock and we aren't necessarily notified.  Need better system.
- make get_dir_list more readable (use glob function?) (just list them) (put in config)
- Q: Do we need 'ls -d' calls to ensure refresh of /s/sdata mounts?  Possibly not.
- CIT: Create test directory with collection of sample FITS files and corresponding "gold standard" DEP output for comparison.
- CIT: Create test script to validate DEP against sample FITS test directory.
- Should 24-hour cutoff hour be a config/input and not hard-coded into instrument class?
- Add "duplicate metadata keyword" check.  What to do? (ok if same val, otherwise ?)
- metadata.py needs a warning for header keywords found that are not in metadata definition file.
- convenience prompt for dir removal and tpx removal if running manually?
- uber cron to ensure all instruments processing ran and completed?
- review all koatpx columns vs which ones we touch and when (ie zero files)




===FULL KEYWORDS===
- MOSFIRE:
 -- Add extended header tables to text file in lev0 dir.
 -- Fix data type issues in spreadsheet from metadata warnings
 -- Search old DEP for MOSFIRE specific code
- Create Python util to compare metadata.format.<instr> keywords list to headers from all past data.  Report on keywords found in one but not in the other.
- Need util to search headers from all past data and report distinct values for a particular keyword.
- Q: What about HDU secondary headers?
- order of work: NIRES, MOSFIRE, (NIRSPEC?), DEIMOS, ESI
- Don't forget WCS, slitmask plot and additional keywords from Mihseh (email).




===LOW PRIORITY===
- send IPAC a pyServer demo code
- look at old Missing Data tables usage
- sort metadata by timestamp? (currently sorted by KOAID which has 'NR'/'NI' prefix sort first)
- get rid of dqa info statements everywhere
- convert all tab indentation to spaces
- metadata graph demo with Pyviz + jupyter notebook
- rename graveyard/ to old/



===QUESTIONS===
- Should a make_jpg failure result in UDF?
- DATE-OBS: I created a check_keyword_dateobs function based on a dateobs check in create_prog.  But I see other, more extensive checks, like in the semester() function.  



===IDEAS===
- Improve logging and reporting more.
- Rename dep_tar to dep_package.  Move fits gzip step to dep_package (but this would make koatpx.size incorrect so move that to dep_package as well).
- Runtime option to auto remove stage/run dirs and remove tpx entry?
- Clean up stage/fits files?
- Move dep.check_koa_db_entry() to koaxfr.py so that we can always run DEP up to that point? (see koaxfrSetup.php)
- Pull out metadata from DQA so it can be run as independent step after DQA? 
- change back to instrument.py and subclasses as a service class (ie not holding current fits file etc)
- Make insrument.py a better base class; denote which functions/vars must be defined in subclass.
- process step base class would be nice.
- always do instrObj header fix up front so we can just refer to things in the header as header['name']?
- have log raise exception on log.error?
- global singleton log object?

